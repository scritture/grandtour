<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniele Giannotta, Elena Stefanin">

<title>Grand Tour - Scorre il sangue, fertile la terra: la Pasola di Sumba</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Grand Tour</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../diario.html#category=Claudio Comandini" rel="" target="">
 <span class="menu-text">Claudio Comandini</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../scritture.html" rel="" target="">
 <span class="menu-text">Scritture</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../contatti.html" rel="" target="">
 <span class="menu-text">contatti</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/groups/4880518/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/tweet_scritture" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/search/scritturemagazine" rel="" target=""><i class="bi bi-facebook" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:grandtour.frascati@gmail.com" rel="" target=""><i class="bi bi-envelope" role="img" aria-label="Email">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Scorre il sangue, fertile la terra: la Pasola di Sumba</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">antropologia</div>
                <div class="quarto-category">religioni</div>
                <div class="quarto-category">Rivista</div>
                <div class="quarto-category">società</div>
              </div>
                  </div>
  </div>
  <div class="quarto-title-meta">
      <div>
      <div class="quarto-title-meta-heading">di</div>
      <div class="quarto-title-meta-contents">
               <p>Daniele Giannotta, Elena Stefanin </p>
            </div>
    </div>
      <div>
      <div class="quarto-title-meta-heading">Data di Pubblicazione</div>
      <div class="quarto-title-meta-contents">
        <p class="date">5 giugno 2016</p>
      </div>
    </div>
    </div>
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-marquee">
  <div class="about-image-container">
    <img src="/images/2016/06/vermi-colorati-la-pasola-inizia-picture-by-Lukas-Pokorny-678x381.jpg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
     <main class="content quarto-banner-title-block" id="quarto-document-content">
<p><em>Viaggiare in bicicletta&nbsp;attraverso il mondo: scoprendo così che quanto&nbsp;sfugge a calamità quali il turismo organizzato e le guerre globali è molto di più di quanto ci si possa aspettare. Daniele Giannotta&nbsp;(1982, sound designer, operatore culturale) ed&nbsp;Elena Stefanin&nbsp;(1984, laureata in Scienze Politiche, Relazioni internazionali e Diritti Umani), partendo da Bologna, hanno attraversato i&nbsp;Balcani e&nbsp;per arrivare nelle&nbsp;zone caspiche ai confini dell’Eurasia. Quindi, si&nbsp;sono spinti nell’Estremo Oriente esplorando Cina, sud Corea,&nbsp;Giappone, Filippine, Malesia, Indonesia. Documentano il&nbsp;loro viaggio su</em> <a href="http://itcycloscope.weebly.com">Cycloscope</a>&nbsp;e, per il momento, non hanno nessuna intenzione&nbsp;di fermarsi. In questo reportage li incontriamo alle prese con il rito della Pasola, presso l’isola di Sumba, Indonesia.__</p>
<p>** 1. L’isola di Sumba: un caso di semi-colonialismo</p>
<p>Nell’ancestrale villaggio di Ratenggaro, incastonato nel selvaggio paesaggio dell’est di Sumba, tutto è pronto per la Pasola. La gente si raduna qui da tutta la provincia di Kodi ed oltre. Le nostre biciclette attirano lo sguardo di molti, i volti tesi nell’attesa dell’evento sacro. Qualcuno potrebbe morire e diventare eroe, la propria tomba intagliata nella pietra monolitica. Qualcun’altro potrebbe morire, ma nell’infamia, il corpo fatto a pezzi per non aver rispettato le regole della Pasola. Ma cos’è una Pasola?&nbsp;Per cercare di comprenderlo dobbiamo partire da lontano, dall’antica religione Marapu.&nbsp;Ma prima, due parole sull’isola di Sumba.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/Biciclette-circondate-dai-bambini-del-villaggio-di-Ratenggaro-300x200.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Biciclette circondate dai bambini del villaggio di Ratenggaro</figcaption>
</figure>
</div>
<p>Isola di Sumba, arcipelago di Est Nusa Tenggara, 650.000 abitanti, una delle più povere isole indonesiane, si vive di agricoltura e allevamento. Più della metà della popolazione non ha accesso all’acqua potabile, la malaria e la dengue sono molto diffuse. I medici scarseggiano e quelli che ci sono costano caro. L’isola venne colonizzata già nel XVI secolo ma, né i portoghesi prima, né gli olandesi poi, la resero una vera e propria colonia. L’isola offriva legno di sandalo e poco più, non molto remunerativo rispetto alle spezie provenienti dalle vicine isole. Questa mancanza di interesse ha favorito il mantenimento di una cultura e di una religione originali.</p>
<p>** 2. Sincretismi forzati: Marapu e Cristianesimo</p>
<p>Sei sono le religioni riconosciute dal governo indonesiano: Cristianesimo, Islam, Cattolicesimo, Buddismo, Induismo e Confucianesimo. Ma le religioni praticate in Indonesia sono decine, quella Marapu è una di queste, praticata dalla maggior parte degli abitanti di Sumba.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/Abitante-di-Ratenggaro.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Abitante di Ratenggaro</figcaption>
</figure>
</div>
<p>Non si può non appartenere ad una religione in Indonesia, è obbligatorio scrivere nero su bianco sulla carta di identità la propria religione, così i Marapu sono costretti a scrivere “cristiano” o “musulmano” o comunque una religione che riconosca un solo ed unico dio (per essere riconosciuto, l’Induismo Balinese ha dovuto elevare un Dio al di sopra degli altri). Qui moltissimi hanno scelto la religione cristiana, almeno per i documenti ufficiali. Non amano il governo, musulmano, e nell’isola molte scuole e servizi sanitari sono gestiti dalla Chiesa. Spesso è richiesto di essere battezzati per poter proseguire gli studi.</p>
<p>In particolare sta crescendo l’influenza della chiesa evangelica riflessa nelle cerimonie di conversione di massa, anche se molti isolani conservano le proprie credenze praticate in segreto. Gli anziani credono che la conversione rompa il rapporto con gli antenati e la vivono in maniera traumatica. Inoltre la Chiesa é riuscita a vendere meglio la conversione, mescolandola con le tradizioni locali, ad esempio non è raro vedere un funerale tradizionale con tanto di tomba megalitica celebrato da un prete cattolico. Quello che importa, infondo, sono i numeri.</p>
<p>** 3. Introduzione alla religione Marapu</p>
<p>Il Marapu crede che la vita terrena sia temporanea, e come dargli torto, e che la vita eterna sia nel mondo degli spiriti. Qui, gli eterni spiriti, vivono una vita simile a quella umana.</p>
<p>Il Marapu insegna l’equilibrio della vita universale, questo equilibrio è simboleggiato dalla Grande Madre (In Kalada) e dal Grande Padre (Ama Kalada) che prendono la forma della luna e del sole, che insieme hanno dato alla luce gli antenati dei Sumbanesi. Per onorare questi spiriti, il Sumbanese crea effigi, statue su altari di pietra dove vengono deposte offerte nelle forme di Sirih Pinang (un piatto contenente foglie di betel, noci e lime) e bovini sacrificali.</p>
<p>L’importanza degli antenati viene espressa attraverso le tombe, vestigia di una delle ultime culture megalitiche sopravvissute sul pianeta. In molti casi, le famiglie accendono debiti che si estendono fino alle future generazioni&nbsp; per poter costruire queste pietre tombali in modo tradizionale.&nbsp;Le cerimonie funebri e la sepoltura possono essere ritardate per decenni, fino a che la famiglia non ottiene i soldi sufficienti, e nel frattempo i corpi dei defunti vengono conservati nelle case dei vivi.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/Tomba-megalitica-a-Ratenggaro-Sumba-1024x682.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Tomba megalitica a Ratenggaro, Sumba</figcaption>
</figure>
</div>
<p>Centinaia di uomini partecipano alla cerimonia di Tarik Batu, pietra-trazione, enormi lastre di pietra, fino a 70 tonnellate, vengono trasportate a mano, fino al luogo di sepoltura, adiacente al villaggio. Un gran numero di bufali, mucche, maiali e, occasionalmente, cavalli, vengono sacrificati. Tutti i rituali devono essere compiuti correttamente,</p>
<p>Gli isolani credono, infatti, che sette coppie di uomini e donne siano scese dal cielo su una scala fatta di corna di bufalo arrivando nella parte centro-nord dell’isola, e quindi, anche loro, eseguendo tutti i riti di sepoltura necessari, saranno in grado di risalire quella scala e ricongiungersi con i propri cari.</p>
<p>** 4. La Pasola</p>
<p>Questa è una Pasola, e non è un gioco. Un rito sacro dove il sangue deve sgorgare, fertilizzando metafisicamente la terra per una stagione senza carestia.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/Un-partecipante-alla-Pasola-300x200.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Un partecipante alla Pasola</figcaption>
</figure>
</div>
<p>Insieme ai funerali, la Pasola è certamente il rito più importante. Si tratta, per semplificare, di una battagia rituale&nbsp; per celebrare la stagione della semina del riso, o meglio di un rito della fertilità. Due diversi gruppi di uomini provenienti da diversi clan o tribù, a cavallo, si tirano addosso lance di legno acumuninate. Lo scopo è quello di spargere il sangue in modo da fertilizzare il terreno.</p>
<p>Nella regione Wanukaka, dove ci troviamo noi, come parte del rituale, la mattina presto i sacerdoti marapu vanno in spiaggia, sacrificano un gallo nero e ne analizzano le interiora per capire se la Pasola possa avere inizio o meno.</p>
<p>Poi, entrano nell’acqua, alla ricerca di vermi colorati sotto la sabbia. Se li trovano é un buon segno, in particolare se sono grandi e cicciottelli, e la Pasola può partire. In caso contrario il raccolto sarà rovinato e anche la Pasola.</p>
<p>** 5. Il racconto</p>
<p>Il colore dominante in questa parte di Sumba è il bianco. Pedalando la costa est, tra sterrati&nbsp; di roccia bianca invasi da piccole cavallette bianche e bianche spiagge immacolate, incontriamo i primi villaggi tradizionali. Le case, chiamate&nbsp;<strong>_<em>una mbatangu</em>,_</strong>_&nbsp;_sono di bambù con imponenti tetti di paglia. Non ci sono finestre ma piccole aperture nel muro di foglie di palma intrecciate, il ché rende tutto molto più fresco rispetto alle moderne case in mattoni. Teschi di bufalo vengono spesso posizionati all’esterno in ricordo dei sacrifici che la famiglia ha fatto. Incrociamo sguardi di uomini e donne dai denti rovinati dalle noci di betel. Il paesagio è stranamente arido per un’isola Indonesiana, eppure la stagione delle piogge è appena terminata. La vegetazione è bassa e non ci sono corsi d’acqua in questa zona.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/Tetti-delle-case-tradizionali-del-villaggio-di-Ratenggaro-300x200.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Tetti delle case tradizionali del villaggio di Ratenggaro</figcaption>
</figure>
</div>
<p>Subito prima del villaggio c’è il campo della Pasola, uno spiazzo di terra dove c’é già qualche uomo a cavallo, i cavalli di Sumba sono molto piccoli ma pare molto resistenti. C’é anche la Pasola Police, uomini che dovrebbero mantenere l’ordine se le cose sfuggissero di mano. In attesa dell’inizio andiamo a visitare il villaggio, duecento metri più lontano, sul mare. Vediamo per la prima volta sull’isola altri bulé (bianchi), ma non troppi. Fuori dalle case stanno preparando da mangiare, una signora sta affettando un cane pronto per essere arrostito ed altri cucinano maiale.</p>
<p>Si vede che questo villaggio è più abituato a vedere turisti ma niente sembra distrarre la gente dalla cerimonia che sta per iniziare. Solo i bambini circondano le nostre biciclette.&nbsp;Ci dirigiamo verso il campo di battaglia, arrivano sempre più uomini a cavallo. Il pubblico è numerosissimo, tutti con il machete nella cintura.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/La-Pasola-ha-inizio-300x200.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">La Pasola ha inizio</figcaption>
</figure>
</div>
<p>Ad un certo punto, inizia. Tutti si dirigono al centro del campo, discutono tra loro, non sappiamo esattamente cosa succeda, poi tornano ai loro posti ed iniziano. Si tirano le lance, all’inizio sembra un po’ noioso. Il governo ha proibito l’uso di lance acuminate ma pare che i locali, in molti casi, le continuino ad usare. Insomma, non si può nemmeno decidere come morire. Il pubblico esulta ma non capiamo bene perché, seguire non é poi così facile.</p>
<p>Ad un certo punto iniziano a tirarsi sassi, rissa in campo, qualcuno dice che una lancia é stata tirata alle spalle, cosa proibita. Le lance devono essere sempre tirate quando l’avversario é di fronte. La polizia entra in campo ed inizia a sparare, prima in aria e poi a terra. Gli spari sono a pochi metri da noi, ci andiamo a rifugiare dietro un camioncino.</p>
<p>La polizia continua a sparare, la folla, pubblico e cavalli si disperdono. È&nbsp;ora di andare anche per noi.&nbsp;Tornati in città ci dicono che la Pasola finisce sempre con la polizia che spara, in quella che abbiamo visto noi non é morto nessuno quindi si può considerare pacifica. Non però sappiamo che fine abbia fatto il tizio che ha tirato la lancia alle spalle: crediamo non sia finita bene.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../images/2016/05/tombe-chi-muore-nella-Pasola-ha-diritto-ad-una-speciale-sepoltura-300x200.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Tombe, chi muore nella Pasola ha diritto ad una speciale sepoltura</figcaption>
</figure>
</div>
<p>In un modo o nell’altro, il sangue deve essere versato.</p>
<p><a href="http://itcycloscope.weebly.com/blog/la-pasola-di-sumba-dove-il-sangue-fertilizza-la-terra-degli-avi"><em>Daniele Giannotta - Elena Stefanin: “La Pasola di Sumba, dove il sangue fertilizza la terra degli avi”, «Cycloscope», 15.05.2015.</em></a></p>
<p><em>Fotografie&nbsp;degli autori (eccetto la prima, “Quando lo sciamano trova i vermi colorati la Pasola può iniziare”, di Lukas Pokorny) - Sumba, maggio 2015.</em></p>


</main> 
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>