<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ermanno Cavazzoni">

<title>Gianni Celati e la fuga dalla letteratura – Grand Tour</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Grand Tour</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../bookwinebar.html"> 
<span class="menu-text">BookWineBar</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../catalogo.html"> 
<span class="menu-text">Catalogo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../incontri.html"> 
<span class="menu-text">Incontri</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../turismo.html"> 
<span class="menu-text">Turismo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../musiche.html"> 
<span class="menu-text">Musiche</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../scritture.html"> 
<span class="menu-text">Scritture</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../contatti.html"> 
<span class="menu-text">contatti</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/groups/4880518/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/tweet_scritture"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/search/scritturemagazine"> <i class="bi bi-facebook" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:grandtour.frascati@gmail.com"> <i class="bi bi-envelope" role="img" aria-label="Email">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Gianni Celati e la fuga dalla letteratura</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">letteratura</div>
                <div class="quarto-category">editoria</div>
                <div class="quarto-category">Celati</div>
                <div class="quarto-category">Cavazzoni</div>
              </div>
                  </div>
  </div>
  <div class="quarto-title-meta">
      <div>
      <div class="quarto-title-meta-heading">di</div>
      <div class="quarto-title-meta-contents">
               <p>Ermanno Cavazzoni </p>
            </div>
    </div>
      <div>
      <div class="quarto-title-meta-heading">Data di Pubblicazione</div>
      <div class="quarto-title-meta-contents">
        <p class="date">3 marzo 2016</p>
      </div>
    </div>
    </div>
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-marquee">
  <div class="about-image-container">
    <img src="/images/2016/03/Pinocchio_molla-tutto-640x381.jpg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
     <main class="content quarto-banner-title-block" id="quarto-document-content">
<p><em>«Ma i risucchi non funzionano mai così, non possono avere orari, non possono nascere per dovere. Possono esserci solo se tutto succede per caso al momento giusto, nel posto giusto, perché fuori dal loro posto e malo loro attimo i risucchi cambiano di sapore, e anzi vanno male, diventano marci. Ed è come per queste parole che adesso mi vengono fuori dalla penna - non lo so perché, ma so che nascono da un risucchio dove tutto mi torna in mente, tutto si ripete nel giro delle cose attraverso i racconti. E la notte non è che l’ombra di tutti i momento che devono ripetersi, è la frescura che li avvolge, è l’abbraccio che tiene tutto insieme, il buco nel tempo in cui i desideri vengono alla superficie e si spandono nell’aria perché nessuno si senta più estraneo. Potrei parlarne ancora: perché neanch’io mi sento estraneo a quel che succede nel capannone, ma mi fermo qui.» (Gianni Celati, “Selve d’amore”, 2013). Il narrare di Celati (Sondrio, 1937), ormai considerato un classico, si muove in uno spazio che è al contempo prima e dopo la letteratura, mosso da una lingua viva lanciata all’inseguimento di un mondo che fugge. Per questo motivo, Ermanno Cavazzoni individua nella sua scrittura i modi della fuga: tuttavia, dove la pagina è pur sempre un approdo, e considerando che oggi con la scrittura digitale il parlato ha invaso ogni ambito, le parole di Celati sembrano indicare più in là di quelle dove rischiano di arenarsi molti suoi epigoni.</em></p>
<p>È in uscita il Meridiano Mondadori che raccoglie la narrativa di Gianni Celati, tutti i romanzi, larga parte dei racconti e dei taccuini di viaggio, da <em>Comiche</em> (1971) a <em>Selve d’amore</em> (2013). Un lungo saggio introduttivo di Marco Belpoliti, il miglior scritto che ho letto su Celati, che aiuta a capire la sua singolare avventura letteraria, il tentativo cioè di scappare dalla letteratura facendo della letteratura. Poi un’interessantissima biografia di Nunzia Palmieri (che insieme a Belpoliti cura il volume), cavata dalle carte Einaudi e dal fondo Celati della biblioteca Panizzi di Reggio Emilia, oltre che da informazioni dello stesso Celati.</p>
<p>Scappare dalla letteratura. Questa è la caratteristica inconfondibile di Celati. Ma come? Viene da dire; basterebbe non scrivere. Non è così semplice. Se un carcerato scappa, diventa un ricercato, che deve continuare a scappare. Così è stato per Celati, fin dall’inizio, da quando ha sentito la letteratura, quella circolante e premiata, come una prigione mentale, intollerabile; e allora col suo primo libro, <em>Comiche</em>, ha fatto qualcosa per scappare via. Questo libro, Celati racconta, è stato fatto a imitazione di un ricoverato psichiatrico di Pesaro, che, oltre a sonetti, componeva un giornale tutto scritto da lui, «Organo mazziniano dell’Ospedale Psichiatrico», scritto a penna, in bella calligrafia. Celati se lo è letto e riletto, ed è stato il germe di tutto; una fuga nel delirio verbale e immaginativo (40 anni più tardi si è messo a fare sonetti, con in mente forse i sonetti del suo mazziniano, <em>Sonetti del Badalucco nell’Italia odierna</em>, 2010). Ammirava anche gli scritti di analfabeti, illetterati, i temi infantili, e i maccheronici, come esempi luminosi di fuga dal forbito parlare.</p>
<p>Un suo professore del liceo leggeva ad alta voce il <em>Baldus</em> di Teofilo Folengo, in latino maccheronico, e l’aveva molto colpito il gusto con cui il professore leggeva questa lingua sballata e irrispettosa, una specie di fuga dalla serietà delle materie scolastiche: un altro germe che poi ha dato i sui frutti. E quindi lo scrivere non è mai stato per Celati un lavoro di volontà e costrizione, come l’Alfieri legato alla sedia, ma uno scappare via con la mente, ubbidendo all’impulso, dove e come l’impulso voleva; e quando il suo stesso modo di scrivere farneticante degli esordi rischiava di diventare maniera, cioè una gabbia in cui si era chiuso, come se la letteratura l’avesse catturato, è scappato via anche da se stesso e ha continuato successivamente sempre a scappare, provando modi sempre più liberi, taccuini di note, appunti, osservazioni di viaggio, anche camminando.</p>
<p>Questa per la verità è una costante anche della sua vita, la fuga, quando le cose si mettono male, nel senso che si chiudono e lo tengono lì, allora gli viene da scappare, non ne può fare a meno, deve essere nella sua natura; per cui: fuga dall’Università (<em>«Ho dato le dimissioni»</em>, mi è venuto a dire una mattina, 1987, <em>«Ma di cosa campi?»</em> <em>«Voglio guadagnarmi il pane»</em>), fuga dall’Italia per l’America, per la Normandia, per il Senegal; fuga dagli editori, quando incominciano a trattare un autore come un cavallo di scuderia; il suo amore per le lingue viene dalla voglia di evadere dall’italiano; il tentativo di imparare l’arabo per scappare anche dalle lingue europee, e poi il cinema, per scappare dalla scrittura.</p>
<p>Adesso che vive in Inghilterra, le sue venute in Italia hanno sempre l’aria del fughino da scuola. Quando andava a trovare Calvino a Parigi, alla ripartenza, dice Celati, Calvino dalle scale gli gridava: <em>«Ma hai una carta stradale?»</em> E inorridiva che non ce l’avesse; e questa è la differenza tra Calvino e Celati, che dopo le chiacchiere gli veniva da scappar via, con l’auto verso Londra (dove studiava) ma come se fosse un’avventura. Fa altrettanto Pinocchio, libro molto ammirato da Celati, dove la fuga è l’ossatura, la malefatta e la fuga, insieme alla disubbidienza, che ne fa il prototipo della civiltà italica, l’espressione più giusta e felice.</p>
<p>Ma è anche un tema ricorrente della narrativa di Celati, il darsi alla fuga, la soddisfazione liberatoria di correre via; corrono tanti suoi personaggi,<em>La banda dei sospiri</em> finisce che il protagonista scappa via in tram, altri in bicicletta, anche negli ultimi racconti del 2013. Quindi si può dire (come è stato detto) che c’è un Celati prima maniera, seconda maniera ecc.; ma anche (e forse è più giusto) che c’è un solo Celati in movimento, come fosse inseguito da se stesso, dal rischio di farsi impastoiare, ogni libro corre via dal precedente, verso territori sempre più disabitati, nel senso di percorsi solo da lui. I primi libri sembrano i meno convenzionali, perché più ostici alla lettura (li hanno detti parenti dell’avanguardia, anche se non è così, è altra la fonte mentale); invece mano a mano che i suoi libri sono diventati più leggibili, si sono sempre più allontanati dalle forme del medio romanzo. In fondo, dice Belpoliti, Celati ha sempre aspirato a qualcosa che sta prima della letteratura.</p>
<p>In <em>Comiche</em> è l’ardore pazzoide che parla, il farnetico libero venato di mania di persecuzione, all’insegna della fretta, come se la vita e i fatti scappassero via e bisogna correrci dietro, senza badare alla sintassi e alla logica (il protagonista Aloysio non ha sempre lo stesso nome), anche il lettore deve correre dietro a questo accavallarsi di avventure di incerta realtà, di personaggi e di cognomi, c’è molto delle comiche accelerate del cinema muto, dove tutto finiva nel casino generale; anche il bellissimo cognome Guizzardi (<em>Le avventure di Guizzardi</em>, 1973) è qualcosa che guizza, difficile afferrarlo e fargli la psicanalisi. Nella <em>La banda dei sospiri</em> tutto è semplificato, pur restando una scrittura manchevole; è un ragazzino che parla e fa una specie di tema scolastico a puntate, sincero ma pieno di errori lessicali, per via che usa parole di cui non capisce il significato, ma sono errori che aggiungono altro significato e una diffusa comicità. La sua famiglia di cui racconta, con annessi zii e cugini, appare come una gabbia di matti, che è la verità di ogni famiglia, questo teatrino dove si recita la propria parte; e la famiglia che sembra normale, cela una pazzia ancora peggiore.</p>
<p>Quando Celati scrive quel bellissimo libro che è <em>Narratori delle pianure</em> (1985) fatto di raccontini sentiti raccontare, sembra che tutta la materia ribollente degli altri suoi libri sia evaporata, come un gas giovanile che era diventato il suo marchio; sembra si vergogni di tutta la precedente irrequietezza verbale. Il modo di scrivere diventa lineare e semplicissimo, compresso (dice Belpoliti), ogni raccontino è un romanzo a cui è stato tolto tutto il gas romanzesco, anzi, tutta l’acqua che lo diluisce, resta qualcosa di asciutto, esemplarità memorabile da referto, e rispetto all’epoca prima è quasi un atto di contrizione, o meglio una fuga per non somigliare a se stesso e restarci preso. Ma ancora è la ricerca di qualcosa che sta prima della letteratura: il sentito dire, quei racconti correnti di vite ristrette in poche parole che ne dicono l’essenza, un po’ comiche un po’ malinconiche, piccoli miracoli che brillano, e che danno sollievo. &nbsp;Quando un posto comincia a somigliarti, lascialo (André Gide, <em>Nourritures terrestres</em>); e così anche questa prosa Celati l’ha lasciata.</p>
<p>Ha incominciato a preferire le forme del taccuino, con note prese camminando, nelle soste, osservazioni del mondo esterno; è fatto così <em>Avventure in Africa</em> (2001), appunti, tentando di fare con la scrittura quello che faceva l’amico fotografo Luigi Ghirri, col quale girovagava, uno scrivendo, l’altro fotografando il mondo già tutto lì in posa per essere detto e fotografato. Una notte di capodanno ha preso un treno (me l’ha raccontato), è arrivato a Reggio Emilia, forse era il 1990, con una biro e un taccuino, e si è messo a girare per la periferia, voleva scrivere tutto quello che gli appariva, pari pari, nulla di più. Non ho mai saputo poi com’è andata. In Africa voleva registrare il semplice passare del tempo, Passar la vita a Diol Kadd (2011, diari del 2003-2006), <em>«con immagini di tutte le ore del giorno, finché viene la sera»</em>; non è più questione di avventure o di casi esemplari, ma di quello che resta fuori dalle narrazioni, il passare del tempo come in una sala d’aspetto, che è la vita umana.</p>
<p>Un classico Celati? Beh, la parola classico è molto ingombrante, ci sono di mezzo i secoli; e poi suggerisce l’idea del trombone, cosa da cui Celati è sempre stato lontanissimo. Certo un Meridiano è sempre qualcosa di santificante, diciamo che mette i contemporanei in odore di classicità. Se vale come lode ben venga. Celati è stato un autore decisivo, dice giustamente Belpoliti, figura di riferimento, anche se non appartenente all’esercito regolare delle lettere patrie. Non si è mai atteggiato a maestro, a caposcuola, capo corrente; però ha tirato tanti giovani autori verso la letteratura; con l’esempio, di un’attività leggermente ascetica, più che di una professione. Belpoliti la chiama etica; sì, scrivere come atto di devozione; così lontana dalla figura dello scrittore televisivo, con opinioni su tutto, con intemperanze spettacolari o lo spettacolo della coscienza civile, tutti grilli parlanti, che Pinocchio schiaccerebbe col martello sul muro televisivo.</p>
<p>•</p>
<p><a href="http://www.ilsole24ore.com/art/cultura/2016-02-14/in-fuga-letteratura-103708.shtml?uuid=AC8GFDUC"><em>Ermanno Cavazzoni, “In fuga dalla letteratura”, Domenica - Il Sole-24Ore» 14.02.2016.</em></a></p>
<p><em>Fotografia: “Pinocchio molla tutto”, Roma, gennaio 2013.</em></p>


</main> 
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/grandtour\.shop");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>