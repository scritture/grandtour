<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Claudio Comandini">

<title>Grand Tour - Brexit: come perdere contro se stessi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Grand Tour</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../diario.html#category=Claudio Comandini"> 
<span class="menu-text">Claudio Comandini</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../scritture.html"> 
<span class="menu-text">Scritture</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">contatti</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/groups/4880518/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/tweet_scritture"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/search/scritturemagazine"> <i class="bi bi-facebook" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:grandtour.frascati@gmail.com"> <i class="bi bi-envelope" role="img" aria-label="Email">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Attiva/disattiva la modalità lettore">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Brexit: come perdere contro se stessi</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Claudio Comandini</div>
                <div class="quarto-category">filosofia</div>
                <div class="quarto-category">geopolitica</div>
                <div class="quarto-category">musica</div>
                <div class="quarto-category">politica</div>
                <div class="quarto-category">società</div>
                <div class="quarto-category">storia</div>
              </div>
                  </div>
  </div>
  <div class="quarto-title-meta">
      <div>
      <div class="quarto-title-meta-heading">di</div>
      <div class="quarto-title-meta-contents">
               <p>Claudio Comandini </p>
            </div>
    </div>
      <div>
      <div class="quarto-title-meta-heading">Data di Pubblicazione</div>
      <div class="quarto-title-meta-contents">
        <p class="date">15 luglio 2016</p>
      </div>
    </div>
    </div>
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-marquee content">
  <div class="about-image-container">
    <img src="/images/2016/06/capo-volto-459x381.jpg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
     <main class="content quarto-banner-title-block" id="quarto-document-content">
<p><em>Quali segnali cogliere dall’esito del referendum inglese? Quali prospettive per un’Europa incerta e per l’incertezza di ogni sua nazione? Il paese è ancora in vendita un tanto alla libbra?</em></p>
<p><strong>1. Dettagli e decisioni</strong></p>
<p>Ogni mondo cresce con un’architettura. Il peso dei dettagli aiuta a distribuire meglio quello dell’insieme e ne concentra il senso in passaggi strategici, a volte pianificati con una cura sorprendente anche per chi ne ha curato l’ordito. In qualsiasi costruzione, che ha sempre una decisione al proprio fondamento, alcuni elementi si evidenziano in maniera netta, altri possono restare nascosti persino a se stessi. La cattedrale di Westminster nasconde in un angolo al suo interno la figura di un’adultera: segno che, nei tempi lontani in cui fu eretta, la&nbsp;fiducia tradita poteva far crollare un mondo intero.</p>
<p>La questione mi fu segnalata per puro caso, poco dopo che avevo portato il mio omaggio alle lapidi dei poeti custodite nella chiesa londinese, da un buffo signore armato di torcia elettrica. Il risultato delle votazioni della Brexit, che sembrano aver sorpreso elettori, governanti e resto del mondo, aiutano in qualche modo a comprendere come un dettaglio possa cospirare contro il disegno complessivo, e tuttavia coesistergli. Questo è anche il&nbsp; senso dei teoremi di incompletezza di Gödel (1930-31), formulati nel contesto della logica formale: all’interno di ogni sistema ci sono elementi impossibili sia da dimostrare che da negare, sui quali non si può <em>«decidere»</em>.</p>
<p><strong>2.&nbsp;Vendere un paese alle bancarelle</strong></p>
<p>Finalmente l’Inghilterra ha perso una guerra, ma nessuno sembra aver vinto. Questa isola che esprime un governo privo di confini e costituzione e trova una delle garanzie della sua singolare monarchia costituzionale grazie al ruolo di regnanti di origine tedesca, non è cero nuova alle stranezze. Ma è inutile ricordare che Londra, se ha storicamente espresso ostilità nei confronti dei tentativi di unificazione del continente, è stata la capitale culturale nel prospero periodo che ha seguito l’ultima e peggiore guerra europea. Ed è buffo considerare che, tempo addietro, un rilancio dei rapporti del paese con l’Europa fu permesso proprio dalla scissione dalla Chiesa di Roma, nella quale era entrata nello stesso periodo in cui cominciava la sua predicazione Maometto.</p>
<p>Non può però nemmeno essere negato che la cosidetta Europa sta costringendo ovunque realtà antiche e dignitose a lasciar posto a cose nuove e finte, che la povertà è un dramma anche per l’ex classe media, e che se diamo retta a certe disposizioni buttiamo via tutti i formaggi possibili per tenerci soltanto il formaggino Mio e la carta stagnola. Tuttavia, non c’è altra possibilità che quella di negoziare una nuova possibile grandezza all’interno della globalizzazione, ed è inutile nascondersi che molti antagonismi non hanno nemmeno strumenti di analisi all’altezza delle sfide e restano&nbsp;vittime della comunicazione nel più grottesco dei modi.</p>
<p>Ed è comunque assurdo che nell’impazzare delle storytellig ben pochi abbiano saputo raccontare che le tensioni verso la Brexit sono state regionali quanto di classe, ambedue molto articolate in un paese che ha inventato l’industrializzazione e che ha lottato a lungo contro se stesso. Ridicolo poi come sia ancora cruciale il ruolo della City nella tanto contestata finanza globale, parte di un’autocolonizzazione che in Occidente procede in maniera strisciante, ruolo deciso in concerto con gli USA più bellicisti e che non c’entra niente con il cosmopolitismo della città. Drammatico come da alcuni il multiculturalismo venga ridotto al solo tasso di immigrazione, e come questo venga da altri criminalmente utilizzato come elemento di propaganda elettorale e non come elemento su cui lavorare con la concretezza politica richiesta dalle contemporanee esigenze di convivenza.</p>
<p>Il nucleo dell’Europa torna ad essere quello di Carlo Magno, che comprende Francia, Italia e Germania, il quale comunque all’epoca non durò poi molto, e che stavolta guarda al Mediterraneo e quindi anche all’Islam, invece di porre barriere nei loro confronti. Tuttavia, non sembra profilarsi nessun&nbsp;futuro per un’Europa fino ad ora limitatasi ad essere provincia di una moneta che, se se nel continente vale poco, a Londra, impegnatissima nel ritagliare privilegi unilaterali da ogni accordo, nemmeno aveva corso. L’Europa che resta non sa ancora bene come reagire, anche perché ogni paese compie le proprie scelte autonomamente e occorre cominciare davvero a raccapezzarsi su un’effettiva integrazione, il che comporta anche la capacità di articolare un’azione comune nei confronti dei nuovi giganti economici asiatici e, soprattutto, la definitiva risoluzione di una crisi che ha minato ogni idea di sviluppo.</p>
<p>Intanto, il Regno unito comincia ad essere meno unito e un po’ più incerto, ma del resto giovani e vecchi hanno quasi sempre idee diverse e anche confondere referendum con sondaggi è sintomo di una certa distrazione. Comunque, per chi si è divertito, c’è già pronta una petizione che, contestando l’esito referendario in quanto i votanti non hanno raggiunto il quorum del 75%, intende permettere un’altra consultazione; tuttavia, di questa petizione sono subito emersi alcuni evidenti brogli, che hanno finalmente relativizzato tale petulante strumento.</p>
<p>C’è poi la solenne questione se sia o meno il caso di far votare gli ignoranti, che per essere prese sul serio deve considerare che è stato interesse dei governanti diffondere informazioni sballate sulla consultazione, e anche prendere in considerazione una specie di “voto di riparazione” laddove alcuni degli elettori già favorevoli alla fuoriuscita hanno dichiarato alla stampa di aver cambiato idea. Infine, il Parlamento potrebbe comunque ricusare questi risultati laddove venissero reputati non adeguati al pubblico interesse: così, è proprio la stessa parola suffragio universale a risolversi in un controsenso.</p>
<p>Gli scenari comportati dal Brexit sono noti da tempo. Si complicheranno i rapporti commerciali tra continente e Londra, più stretti di quando l’impero britannico veleggiava su ogni mare. La circolazione in Europa dei britannici e la diffusione delle loro istituzioni subirà una flessione, le dimissione dei britannici da ruoli chiave della burocrazia della UE sono in corso. Inevitabilmente ci sarà maggiori complessità nelle trattative del famigerato TTIP, sul quale la confusione è già immensa. Per uscire da legislazioni, programmi e fondi in corso da 45 anni ce ne vorranno almeno 10 e, mentre il paese non potrà più ritornare indietro da questa decisione, la legislazione europea continuerà ad influire sull’isola.</p>
<p>Le divisioni determinanti il voto si acuiranno, portando a nuove ipotesi di scissione scozzese e di annessione europea separata, nonché a nuove complicazioni con l’Irlanda, mentre la capitale chiede l’indipendenza. Tuttavia, anche qui si può cogliere il&nbsp;segnale che è opportuno riconsiderare l’Europa come composta di regioni, più che di nazioni, e che tali regioni&nbsp;presentano storie e rapporti soltanto in parte riconducibili alla configurazione statale.</p>
<p>Da parte loro, i&nbsp;diversi leader politici britannici hanno l’aria di chi scherza in modi strambi e si accingono a sparire dopo aver manipolato una consultazione elettorale su questioni internazionali per beghe di cortile. Il premier Cameron, che ha permesso il referendum, annuncia le sue dimissioni lasciando dietro sé soltanto incertezza. Prende il suo posto Theresa&nbsp;May, che pur se a molti sembra una novità, presenta &nbsp;un programma da anni 30, antisemitismo escluso, e al colmo dello <em>humor</em>&nbsp;era peraltro filoeropeista e&nbsp;nomina agli esteri lo strano conservatore Johnson. Costui, che sembra un po’ figlio del pittoresco immobiliarista americano Trump, continua a dimostrare&nbsp;spiccato talento per battutacce e selfie, e così dopo averle sparate grosse sull’uscita dalla UE, prima aveva affermato&nbsp;di voler mollare ogni cosa, poi ha corretto dicendo che comunque l’Inghilterra resta in Europa.</p>
<p>Il nazionalista&nbsp;Farage, che ha soffiato sulla pericolosa fiamma della xenofobia, si ritrova tecnicamente alle prese con un intero paese di extracomunitari, i quali hanno comunque in gran massa&nbsp;votato per il Brexit, e con un numero di nuovi disoccupati destinato a crescere. Il laburista Corbyn continua a comportarsi come uno passato lì per caso. La regina sembra molto incazzata. I servizi segreti del paese si troveranno in difficoltà con i colleghi della già fiorente famiglia delle anglospie. E mentre la tragica morte di Jo Kox per mano di un nazionalista esaltato risulta ancora più inutile, esultano ovunque i malati di particolarismo e la gente non troppo sveglia.</p>
<p>Continua ad impazzare la falsa alternativa tra un neoliberismo, ormai ricusato pure dal FMI, e un populismo incapace di intendere e volere in ogni sua manifestazione. Crolla e perde 61 miliardi in nemmeno mezza giornata quella borsa che, a furia di speculare ha reso il futuro impossibile, e si potranno verificare tutti i rischi di recessione già denunciati. <a href="https://www.youtube.com/watch?v=7Rn9tzirks4"><em>Selling England by the Pound</em></a>: la svendita del paese, profetizzata a suo tempo dai Genesis di Peter Gabriel, è roba da povere bancarelle, altro che Portobello. La Cina, con cui l’Inghilterra ha rapporti privilegiati, temeva la Brexit per una possibile perdita di influenza sul resto di un Europa, la quale comunque ora è costretta a rivedere forme e obiettivi, per uscire paradossalmente proprio da quella ossessione del profitto importata dal mondo anglosassone, e spartirsi quanto resta della sua non sempre brillante influenza. La situazione è piuttosto complicata, ma forse poteva andare&nbsp;anche peggio. C’è sempre tempo per seppellirsi.</p>
<p><strong>3. Dieci profezie cantate</strong></p>
<p>Quanto dobbiamo all’Inghilterra lo facciamo ora raccontare da una decina&nbsp;di canzoni, nelle quali si&nbsp;osserva come viene progressivamente a&nbsp;costruirsi il senso di un mondo che, se sembra ormai un po’&nbsp;lontano da se stesso, non era ignaro di questa suaa precarietà già in tempi a cui oggi guardiamo come gloriosi. In questa essenziale serie, le esclusioni sono davvero innumerevoli: tuttavia,&nbsp;si possono effettuare&nbsp;anche alcune autentiche scoperte.</p>
<p>I Kinks, gruppo british per eccellenza, avevano offerto il&nbsp;&nbsp;lucido affresco di un mondo che va per conto proprio&nbsp;in una&nbsp;<em><a href="https://www.youtube.com/watch?v=g-D9xcZgKX4">Waterloo Sunset</a></em>&nbsp;(1967). In questo mondo, c’è poco da far finta di essere svegli: i Soft Machine, maestri nell’aver reso la patafisica una scienza esatta e la psichedelica una disciplina, come piccoli buddha impertinenti si chiedono <em><a href="https://www.youtube.com/watch?v=JUUFjENDIYc">Why are we Sleeping?</a>&nbsp;</em>(1969). E dove si vuol vedere l’Europa come una casa, bisogne tenere contro che questa&nbsp;può anche essere, come in&nbsp;<a href="https://www.youtube.com/watch?v=VLqoi-YWa8c"><em>House with no Door</em></a>&nbsp;(1970) dei Van Der Graaf Generator, sprovvista di&nbsp;porte, segno di desolazione.&nbsp;E d’altra, parte, il debito verso l’Inghilterra è anche nell’Europa a cui sa guardare, e nell’amore perduto tra la Senna e Notre-Dame di <a href="https://www.youtube.com/watch?v=dDwyOApJzSw"><em>A Song for Europe</em></a> (1973) dei&nbsp; Roxy Music. Un senso ad un tempo tragico e speranzoso dell’esistenza sembra raccogliersi in&nbsp;<a href="https://www.youtube.com/watch?v=lCCJc_V8_MQ"><em>The Big Ship</em></a> (1975) di Brian Eno, che forse ha l’unico difetto di essere troppo breve.</p>
<p>Un <em>«nichilismo della forza»</em>, memore del&nbsp;sempre-dolce-dolce Federico N.,&nbsp;trova forma nei PIL-Public Image Ldt, che prendono distanza dalla spettacolarità a tutti i costi, ricordandoci, con tracce enigmatiche come <a href="https://www.youtube.com/watch?v=4rVheVCkdEc"><em>Radio 4</em></a> (1979, precedentemente conosciuta come <em>What song is this?</em>) che si può essere profondamente punk pure in abiti eleganti.&nbsp;E così, per chi sa costruire storie e canzoni, e non perde tempo in rivendicazioni e parate, argomenti quali sesso estremo, travestitismo, droghe e omicidio diventano roba stupenda: come i Soft Cell, che ti fanno canticchiare con allegria <a href="https://www.youtube.com/watch?v=FjIu3aZyVX4"><em>Meet Murder my Angel</em></a> (1984). Qua e là ci sorprendono poi le domenica della vita, nelle quali emerge l’incanto: l’<em>«innocente allegria»</em> dell’arte che passa e va, di cui parlava Hegel, i mercatini dove puoi trovare sfere di cristallo, cappotti austroungarici e tutti i dischi che ti mancavano; e in uno di questi, gemme come <a href="https://www.youtube.com/watch?v=UdimcciEJh8"><em>Nine Cats</em></a> (1988) dei Porcupine Tree.</p>
<p>E se i gatti in qualche modo ci somigliano, gli androidi hanno i nostri stessi difetti, peggiorati dall’ostinazione a non separarsi mai da&nbsp;smartphone e dall’ossessione per le notifiche; e dove la crudeltà degli androidi e del loro ambiguo rapporto con gli umani non stupiva Philip Dick, Douglas Adams nella *Guida Galattica per Autostoppisti&nbsp;<em>creò invece il paranoico Marvin: a questo si riferiscono i Radiohead in<em>&nbsp;</em><a href="https://www.youtube.com/watch?v=sPLEbAVjiLA">_Paranoid Android*</a> (1997). Tutto conduce verso&nbsp;la profezia più chiara del Brexit, contenuta in&nbsp;<a href="https://www.youtube.com/watch?v=7sX4K0JRIDM"><em>Black and White Cities</em></a> (2005) dei Doves, band di Winslow famosa a Manchester amata dai rugbisti; forse, non c’è nessuna chance, e il fatto che </em>«sbatteremo la testa sul pavimento»_ è proprio nei piani di chi ci assiste. Ad ogni modo, troveremo sempre qualche altra canzone per risollevarci.</p>
<p>•</p>
<p><em>Fotografia: Claudio Comandini, “Capo volto”, Milano, luglio 2015.</em></p>


</main> 
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiato!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiato!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/grandtour\.shop");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>