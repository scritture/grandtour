<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="AAVV">
<meta name="dcterms.date" content="2022-03-31">

<title>Dal confine. Sul conflitto in Ucraina</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/clipboard/clipboard.min.js"></script>
<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/quarto.js"></script>
<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/popper.min.js"></script>
<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/anchor.min.js"></script>
<link href="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="2022-03-31-ucraina-confine-kissinger-derienzo-altri_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Dal confine. Sul conflitto in Ucraina</h1>
  <div class="quarto-categories">
    <div class="quarto-category">geopolitica</div>
    <div class="quarto-category">politica</div>
    <div class="quarto-category">economia</div>
    <div class="quarto-category">Russia</div>
    <div class="quarto-category">Ucraina</div>
    <div class="quarto-category">Boeckh - Völkl</div>
    <div class="quarto-category">De Rienzo</div>
    <div class="quarto-category">Kissinger</div>
    <div class="quarto-category">Mearsheimer</div>
    <div class="quarto-category">Verga</div>
    <div class="quarto-category">Kuchins</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>AAVV </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 31, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/samie-dorogie-moneti-drevnej-rusi_3.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
<p><em>Il conflitto in Ucraina non è scoppiato all’improvviso. La sua complessità si può individuare nel nome stesso dei suoi protagonisti, Putin e Zelensky, che hanno lo stesso nome detto in modo diverso, che è peraltro quello del principe Vladimir, il primo a convertirsi al cristianesimo ortodosso. La civilizzazione russa si afferma a Kiev alla fine del IX sec.&nbsp;e si pone a cavallo di Eurupa e Asia, e già questo fa comprendere le sue peculiarità. Per quanto la comunicazione tenti di annullarla, e far così prevalere gli interessi dell’Occidente a guida USA, anche il conflitto russo-ucraino ha una storia, della quale qui sono offerti, per quelli che non si accontentano di essere destinatari e strumenti di bieche propagande, alcuni stralci in una piccola antologia che vuole proporsi quale piccolo utile strumento di comprensione. Va segnalato che questa antologia ha subito, come se ce ne fosse bisogno visto il già enorme livello di condizionamento, una censura su quella macchina del consenso obbligato e felice chiamata Facebook. Eppure, a differenza di tanti post fatti a casaccio, è destinata a durare e a confermare i propri contenuti.</em></p>
<section id="le-origini-k.-boeckh---e.-völkl" class="level2">
<h2 class="anchored" data-anchor-id="le-origini-k.-boeckh---e.-völkl">1. Le origini (K. Boeckh - E. Völkl)</h2>
<p>L’impero di Kiev (la Rus’ di Kiev) fu una lega di regnanti che si formò, a partire dal X secolo, nell’Oriente dell’Europa medievale. Si trattava di un potentato slavo orientale condiviso, sebbene nel presente sia i russi, sia i bielorussi sia gli ucraini considerino la Rus’ di Kiev la “<em>culla</em>” delle rispettive storie nazionali. La differenziazione etnica degli slavi orientali da cui si sono enucleati i popoli degli ucraini, dei russi e dei bielorussi ebbe inizio all’epoca della Rus’ ma si concluse appena nel XVI secolo. Accanto alle tribù slave orientali vennero insediandosi in questi territori anche tribù finniche, baltiche e di lingua turca, motivo per cui è il caso di parlare di un conglomerato polietnico.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
</section>
<section id="la-frontiera-reale-e-lidentità-mitopoietica-e.-de-rienzo" class="level2">
<h2 class="anchored" data-anchor-id="la-frontiera-reale-e-lidentità-mitopoietica-e.-de-rienzo">2. La frontiera reale e l’identità mitopoietica (E. De Rienzo)</h2>
<p>Cos’è infatti l’Ucraina se non una terra di frontiera, priva di confini storici, nata dall’Unione di Lublino, come frattura della Rus’ medievale e «<em>lacerazione della nazionalità russa</em>»,<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> se non un «<em>vuoto geopolitico, poco più di un intermezzo territoriale, la cui assenza di unità effettiva ha risucchiato le potenze contigue in due guerre mondiali</em>»,<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> se non una «<em>guerreggiata area di confine</em>» divenuta lo scenario delle ‘<em>bloodlands</em>’ del XX secolo,<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> se non, infine, l’esatto contrario di uno stato nazionale nel senso classico del termine, dove neppure «<em>la maggioranza etnica titolare ucraina costituisce una Nazione unificata, omogenea e coerente</em>»?<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<p>[…] I governi occidentali hanno, invece, rinunciato alla possibilità di fare del territorio ucraino un’intercapedine neutrale tra i Paesi della NATO e la Federazione Russa e hanno deciso di trasformare l’“<em>identità ucraina</em>” in principio di contrapposizione, accettando senza verifiche «<em>il mito, radicato dell’autocoscienza nazionale di Kiev, dell’Ucraina, terra europea che si contrappone alla Russia, Potenza eurasiatica, come portatrice di un principio “repubblicano”, antitetico a quello “dispotico” moscovita, e come modello di una società civile aperta, opposta ad un oppressivo statalismo assoluto</em>».<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> È, però, il passato dei popoli, e non i loro tendenziosi esercizi mitopoietici, che ci consente di comprendere il loro presente.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
</section>
<section id="il-ponte-e-il-fossato-h.-kissinger" class="level2">
<h2 class="anchored" data-anchor-id="il-ponte-e-il-fossato-h.-kissinger">3. Il ponte e il fossato (H. Kissinger)</h2>
<p>Troppo spesso la questione ucraina si è posta come una resa dei conti per decidere se questo Paese debba unirsi all’Oriente o all’Occidente. Eppure se il destino dell’Ucraina è sopravvivere e prosperare, essa non può divenire l’avamposto militare dell’uno o dell’altro schieramento ma deve trasformarsi, invece, in un ponte capace di unire e non in un fossato per dividere. La Russia deve rendersi conto che trasformare l’Ucraina in uno stato satellite e quindi espandere nuovamente i suoi confini la condannerebbe a ripetere il ciclo secolare della sua contrapposizione con Europa e Stati Uniti. L’Occidente deve capire che la Russia non tollererà mai che l’Ucraina possa divenire un Paese a lei estraneo e potenzialmente avverso. La storia russa iniziò nella Rus’ di Kiev ed è lì che nacque la sua religione. L’Ucraina ha fatto parte della Russia per secoli e le loro storie si sono intrecciate anche prima di allora. Alcune delle battaglie più importanti per la libertà russa, da quella di Poltava del 1709, sono state combattute sul suolo ucraino. La Flotta del Mar Nero - il solo mezzo per la Russia di accedere al Mediterraneo - esiste come forza operativa solo grazie all’affido a lungo termine di Sebastopoli in Crimea. Anche dissidenti famosi come Aleksandr Solženicyn e Iosif Brodsky hanno sempre insistito sul fatto che l’Ucraina è parte integrante della storia russa: anzi, della Russia stessa.</p>
<p>L’Unione Europea deve riconoscere che la sua lentezza burocratica e la subordinazione dei suoi problemi interni e particolari alla soluzione delle grandi questioni strategiche di carattere generale durante i negoziati con l’Ucraina, hanno dato origine alla crisi odierna. La politica estera infatti, è l’arte di stabilire delle priorità. Una lezione, questa, che l’Europa di Bruxelles è lontana dall’aver appreso. Nell’attuale congiuntura, sono comunque gli Ucraini a restare l’elemento decisivo. Essi appartengono a una terra dalla storia complessa, teatro di conflitti dovuti all’esistenza di barriere linguistiche e religiose. Qualsiasi tentativo dell’Ucraina cattolica e di lingua ucraina di dominare l’altra Ucraina ortodossa e russofona condurrà necessariamente alla guerra civile e alla fine dell’unità nazionale. Considerare l’Ucraina come parte del confronto est-ovest, spingendola a far parte della NATO, equivarrebbe ad affossare per decenni ogni prospettiva d’integrare la Russia e l’Occidente - e in particolare la Russia e l’Europa - in un sistema di cooperazione internazionale. Una saggia politica statunitense verso l’Ucraina avrebbe dovuto cercare il modo per favorire l’intesa tra le due parti del Paese. L’America avrebbe dovuto favorire la riconciliazione e non, come ha fatto, il dominio e la sopraffazione di una fazione sull’altra. Per l’Occidente infine, la demonizzazione di Vladimir Putin non è una scelta politica: è solo un alibi che evidenzia drammaticamente l’assenza di qualsiasi scelta.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
</section>
<section id="le-responsabilità-delloccidente-j.j.-mearsheimer" class="level2">
<h2 class="anchored" data-anchor-id="le-responsabilità-delloccidente-j.j.-mearsheimer">4. Le responsabilità dell’Occidente (J.J. Mearsheimer)</h2>
<p>Gli Stati Uniti e i loro alleati europei condividono la maggior parte della responsabilità della crisi ucraina. Il nodo del problema è l’allargamento della NATO come elemento centrale di una strategia più ampia tesa a spostare l’Ucraina fuori dall’orbita della Russia e integrarla all’Occidente. Allo stesso tempo, l’espansione dell’Unione Europea verso est e il sostegno di Bruxelles al movimento democratico ucraino - che inizia con la «<em>rivoluzione arancione</em>» del 2004 - costituiscono altrettanti elementi di sovvertimento dell’ordine mondiale. Alla metà degli anni 1990, i leader russi si sono fermamente opposti all’allargamento della NATO e negli ultimi anni hanno messo in chiaro che non avrebbero accettato passivamente la trasformazione di uno Stato confinante, di massima importanza strategica, come l’Ucraina, in un bastione dell’Occidente.</p>
<p>Per Putin, il rovesciamento illegale del Presidente dell’Ucraina, filo-russo ma democraticamente eletto - che egli ha giustamente etichettato come un «<em>Colpo di Stato</em>» - è stata l’ultima goccia. Putin ha risposto impadronendosi della Crimea, prima che la penisola potesse ospitare una base navale della NATO, e decidendo di destabilizzare l’Ucraina fino a quando Kiev non rinuncerà al programma di entrare nel fronte occidentale. La reazione di Mosca era ampiamente prevedibile e tale da non riservare nessuna sorpresa. In fin dei conti, l’Occidente era entrato a piede teso del cortile di casa della Russia per minacciare i suoi interessi strategici fondamentali.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
</section>
<section id="questioni-di-soldi-e.-verga" class="level2">
<h2 class="anchored" data-anchor-id="questioni-di-soldi-e.-verga">5. Questioni di soldi (E. Verga)</h2>
<p>Le attività di lobby a Washington sono registrate presso il <a href="https://www.justice.gov/nsd-fara">FARA</a>. Questo organo mappa la maggioranza le delegazioni o i singoli portatori di interessi che operano nella capitale americana. Tra le organizzazioni più attive, specialmente nel 2021, risulta la Ukrainian Federation of Employers of the Oil &amp; Gas Industry (di seguito <a href="https://frng.org.ua/en/pro-nas/frnh">UFEOGI</a>) che rappresenta gli interessi delle aziende di petrolio e Gas ucraine. Nel 2021 la UFEOGI ha assoldato e pagato 840.000 dollari alla <a href="https://www.opensecrets.org/fara/registrants/D000071696">Yorktown Solutions</a> per operazioni di lobby verso politici americani, media e think tank. Il contratto, come riportano i <a href="https://efile.fara.gov/docs/6491-Exhibit-AB-20211230-27.pdf">file</a> di FARA, è stato rinnovato per tutto il 2022.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
</section>
<section id="il-fallimento-di-tutti-a.-c.-kuchins" class="level2">
<h2 class="anchored" data-anchor-id="il-fallimento-di-tutti-a.-c.-kuchins">6. Il fallimento di tutti (A. C. Kuchins)</h2>
<p>Perché Putin ha agito ora? Perché l’Ucraina stava pericolosamente (dal suo punto di vista) scivolando verso Occidente. Gli astronomici livelli di corruzione del Paese hanno rappresentato un freno poderoso al suo sviluppo e al pieno dispiegamento della sua sovranità. Inoltre, a 69 anni Putin non vede probabilmente alcun successore che voglia e possa completare il suo messianico disegno di ripristino della grandezza russa.</p>
<p>Questo crea un enorme dilemma geopolitico per gli Stati Uniti e l’Europa. Nessuno è pronto a dispiegare truppe NATO al fianco delle forze ucraine rischiando uno scontro diretto con la Russia, potenza atomica. Le opzioni strategiche euro-statunitensi scontano serie limitazioni. Le pesanti sanzioni imposte a caldo erano state messe in conto da Putin, tant’è che non l’hanno distolto dalla guerra. Mosca ha il coltello dalla parte del manico: da un lato l’Occidente restio a combattere e con le mani parzialmente legate sulle sanzioni; dall’altro Putin che politicamente non può permettersi di perdere (contro) l’Ucraina, il cui esercito è nettamente inferiore al suo.</p>
<p>Comunque finisca, stiamo entrando in una nuova éra dove la linea che bisecava Berlino nella guerra fredda si sposta ora al confine orientale della UE, o forse dentro ciò che resterà dell’Ucraina. Ma le implicazioni saranno molto più ampie. Come minimo l’idea statunitense di concentrare attenzione e risorse sulla Cina sarà compromessa. Inoltre la NATO ne esce ricompattato come mai dal crollo dell’URSS, ma con quali effetti sulla propensione degli europei a rendersi militarmente più capaci? A dispetto delle evidenze, forse il ritorno della minaccia russa li spingerà a dotarsi di quella parziale autonomia strategica che sin qui è mancata. Di certo il mondo è diventato più pericoloso e imprevedibile.</p>
<p>In una prospettiva storica, ho sempre creduto che il nobile obiettivo di un’Europa «<em>integra e libera</em>» presupponga una Russia sicura, ascoltata e rispettata nel sistema di sicurezza europeo. Sotto questo profilo abbiamo fallito tutti. Russi inclusi, ovviamente.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
</section>
<section id="il-trizub-e-la-russia" class="level2">
<h2 class="anchored" data-anchor-id="il-trizub-e-la-russia">7. Il Trizub e la Russia</h2>
<p>Le prime monete dell’antica Russia sono state rinvenute sul territorio del Principato di Kiev. Quelle di oro e argento coniate dal 980 al 1015 avevano da un lato l’immagine e il nome del principe Vladimir, convertitosi al cristianesimo ortodosso di Bisanzio, dall’altro il Trizub, il tridente che rappresenta quindi, oltre al simbolo dell’attuale Ucraina, un elemento comune all’intera storia della civiltà russa.</p>
<p><em>Immagine: Le monete del principe Vladimir.</em></p>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>K. Boeckh - E. Völkl, <em>Ucraina. Dalla rivoluzione rossa alla rivoluzione arancione</em> [2007], Bet 2009.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>T. Snyder, <em>The Reconstruction of Nations</em>, Yale University Press 2003)<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>A. Wilson. <em>The Ukrainians. Unespected Nations</em>, Yale University Press 2000.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>T. Snyder, Bloodlands: Europe Beetween Hitler and Stalin, Basic Books 2010.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>P. W. Rodgers, Nations, Region and History in Post-Communist Transitions, Ibidem-Verlag 2008.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>V. Strada, Introduzione a ID., Europe. La Russia come frontiera, Marsilio 2014.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Eugenio De Rienzo, <em>Il conflitto russo-ucraino</em>, Rubettino 2015.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Henry Kissinger, <em>How the Ukraine crisis ends</em> «The Washington Post», 5.03.2004.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>J.J. Mearsheimer, <em>Why the Ukraine Crisis Is the West Fault?</em>, «Foreign Affair» 21.08.2014.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p><a href="https://www.econopoly.ilsole24ore.com/2022/02/15/guerra-ucraina-washington/">Enrico Verga, <em>Ucraina, è una questione di soldi e la guerra è già in corso a Washington</em>, «ilSole24ore», 15.02.2022.</a><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p><a href="https://www.limesonline.com/rivista/l-ucraina-paga-anche-gli-sbagli-dell-america-14639458/">A. C. Kuchins, <em>L’Ucraina paga anche gli sbagli dell’America</em>, «Limes - La Russia cambia il mondo», 2/2022.</a><a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>